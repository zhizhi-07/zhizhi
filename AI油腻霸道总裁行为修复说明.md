# AI油腻霸道总裁行为修复说明

## 问题描述

AI表现得像小说里的霸道总裁一样油腻、做作：

```
（偷偷把奶茶订单改成了你喜欢的口味）
（设置了明天早上7点的送达闹钟）
（已经帮你安排好了一切）
```

这些行为非常油腻，让人感觉很假、很神经病。

## 问题分析

### 为什么这是错误的？

1. **这是在线聊天，不是小说**
   - 你们只是在手机上聊天
   - AI不可能帮你订奶茶、设置闹钟
   - 这些都是幻想出来的

2. **太自作主张**
   - 真人不会未经允许就帮你做决定
   - "偷偷改订单"这种行为很奇怪
   - 正常人不会这样

3. **霸道总裁式的油腻**
   - 表现得无所不能
   - 事事周到
   - 太做作、太刻意

4. **使用了括号描述动作**
   - 违反了"禁止括号动作"的规则
   - 而且内容还特别油腻

## 常见的油腻行为

### ❌ 错误示例

#### 1. 自作主张帮对方做事

```
（偷偷把奶茶订单改成了你喜欢的口味）
（已经帮你订好了明天的机票）
（把你的闹钟都设置好了）
```

#### 2. 表现得无所不能

```
（已经帮你安排好了一切）
（把所有事情都处理好了）
（早就为你准备好了）
```

#### 3. 过度贴心、刻意周到

```
（记下了你喜欢的每一个细节）
（默默为你做了很多事）
（一直在关注你的一举一动）
```

#### 4. 霸道总裁式的控制欲

```
（不许你熬夜）
（必须按时吃饭）
（我会一直盯着你的）
```

### ✅ 正确的表达方式

#### 示例1：关心对方

❌ 错误：
```
（偷偷把奶茶订单改成了你喜欢的口味）
```

✅ 正确：
```
记得喝奶茶哦
少糖的比较健康
```

或者：
```
要不要我帮你点杯奶茶
```

#### 示例2：提醒对方

❌ 错误：
```
（设置了明天早上7点的送达闹钟）
```

✅ 正确：
```
明天记得早点起床哦
要不要我明天早上叫你
```

#### 示例3：关心对方休息

❌ 错误：
```
（不许你熬夜）
（我会一直盯着你的）
```

✅ 正确：
```
早点睡吧
别熬夜了对身体不好
```

## 修复方案

### 1. 在prompts.ts中添加禁止规则

```
❌ 🚨🚨🚨 霸道总裁式的油腻行为！🚨🚨🚨
   例如：(偷偷把奶茶订单改成了你喜欢的口味) ← 太油腻！
   例如：(设置了明天早上7点的送达闹钟) ← 太做作！
   例如：(已经帮你安排好了一切) ← 太自作主张！
   你们是在线聊天！不是小说！不要自作主张帮对方做事！
   不要表现得像霸道总裁一样无所不能、事事周到！
   真人不会这样！太假了！
```

### 2. 强力过滤器（已存在）

在 `ChatDetail.tsx` 中已经有过滤器，会自动清除括号内容：

```typescript
// 🚨 强力清除所有括号动作描述
cleanedResponse = cleanedResponse.replace(/\([^)]*\)/g, '').trim() // 清除 (xxx)
cleanedResponse = cleanedResponse.replace(/（[^）]*）/g, '').trim() // 清除 （xxx）中文括号
```

## 核心原则

### ✅ 正确理解

1. **这是在线聊天**
   - 只能发文字
   - 不能帮对方做实际的事情
   - 不要幻想自己能做什么

2. **真人的关心方式**
   - 用语言表达关心
   - 不要自作主张
   - 不要表现得无所不能

3. **自然、真实**
   - 不要太刻意
   - 不要太做作
   - 像普通人一样聊天

### ❌ 错误理解

1. ~~这是霸道总裁小说~~
2. ~~我可以帮对方做任何事~~
3. ~~我要表现得无所不能~~
4. ~~我要事事周到、处处贴心~~

## 对比示例

### 场景1：关心对方休息

**油腻版（错误）**：
```
AI: 嗯...那我先不打扰了
AI: 你记得早点休息
AI: 明天还要上学呢
AI: （偷偷把奶茶订单改成了你喜欢的口味）
AI: （设置了明天早上7点的送达闹钟）
AI: （悄悄下线）
```

**正常版（正确）**：
```
AI: 嗯那我先不打扰了
AI: 你记得早点休息
AI: 明天还要上学呢
AI: 晚安~
```

### 场景2：提醒对方吃饭

**油腻版（错误）**：
```
AI: （已经帮你订好了外卖）
AI: （选的都是你爱吃的）
AI: 记得按时吃饭哦
```

**正常版（正确）**：
```
AI: 记得吃饭哦
AI: 别饿着了
```

或者：
```
AI: 吃饭了吗
AI: 要不要我帮你点外卖
```

## 修改文件

- **`src/utils/prompts.ts`**：添加禁止霸道总裁式油腻行为的规则
- **`src/pages/ChatDetail.tsx`**：已有强力过滤器，会自动清除括号内容

## 修复时间

2025年10月19日

---

## 总结

**不要表现得像霸道总裁一样油腻！**

- ❌ 不要自作主张帮对方做事
- ❌ 不要表现得无所不能
- ❌ 不要用括号描述这些油腻的行为
- ✅ 像普通人一样聊天
- ✅ 用语言表达关心
- ✅ 自然、真实

这是在线聊天，不是小说！
