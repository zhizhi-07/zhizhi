# ğŸ“š æ¢—åº“æ›´æ–°è¯´æ˜

## ğŸ¯ ç»Ÿä¸€æ¢—åº“æ¶æ„

æ‰€æœ‰æ¨¡å—ï¼ˆå°ç¨‹åºå’Œè®ºå›ï¼‰éƒ½ä½¿ç”¨åŒä¸€ä¸ªæ¢—åº“æºï¼š

```
src/utils/memesRetrieval.ts  â† å†…ç½®æ¢—åº“ï¼ˆ1200+æ¡ï¼‰
         â†“
src/utils/memeManager.ts      â† ç»Ÿä¸€ç®¡ç†å™¨
         â†“
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â†“         â†“
å°ç¨‹åº      è®ºå›
```

## âœ… æ›´æ–°æ–¹å¼

### æ–¹æ³•1ï¼šæ›´æ–°å†…ç½®æ¢—åº“ï¼ˆæ¨èï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š`src/utils/memesRetrieval.ts`

**æ“ä½œæ­¥éª¤**ï¼š
1. æ‰“å¼€ `memesRetrieval.ts`
2. åœ¨ `memesData` æ•°ç»„ä¸­æ·»åŠ /ä¿®æ”¹æ¢—
3. ä¿å­˜æ–‡ä»¶

**ç¤ºä¾‹**ï¼š
```typescript
export const memesData: Meme[] = [
  // ç°æœ‰çš„æ¢—...
  
  // æ·»åŠ æ–°æ¢—
  {
    id: 1234,
    'æ¢—': "æ–°æ¢—åç§°",
    'å«ä¹‰': "æ¢—çš„å«ä¹‰å’Œç”¨æ³•è¯´æ˜",
    keywords: ["å…³é”®è¯1", "å…³é”®è¯2"]
  }
]
```

**æ•ˆæœ**ï¼š
- âœ… å°ç¨‹åºæ¢—åº“ç«‹å³æ›´æ–°
- âœ… è®ºå›AIå›å¤ç«‹å³æ›´æ–°
- âœ… è®ºå›åˆå§‹åŒ–å†…å®¹ç«‹å³æ›´æ–°
- âœ… æ‰€æœ‰@è§’è‰²äº’åŠ¨ç«‹å³æ›´æ–°

### æ–¹æ³•2ï¼šç”¨æˆ·è‡ªå®šä¹‰æ¢—

**æ·»åŠ ä½ç½®**ï¼šå°ç¨‹åºæ¢—åº“é¡µé¢

**æ“ä½œæ­¥éª¤**ï¼š
1. æ‰“å¼€å°ç¨‹åº â†’ æ¢—åº“
2. ç‚¹å‡»"æ·»åŠ è‡ªå®šä¹‰æ¢—"
3. å¡«å†™æ¢—åç§°ã€å«ä¹‰ã€å…³é”®è¯
4. ä¿å­˜

**å­˜å‚¨ä½ç½®**ï¼š`localStorage.custom_memes`

**æ•ˆæœ**ï¼š
- âœ… è‡ªå®šä¹‰æ¢—ç«‹å³ç”Ÿæ•ˆ
- âœ… ä¸å†…ç½®æ¢—ä¸€èµ·ä½¿ç”¨
- âœ… è®ºå›å’Œå°ç¨‹åºåŒæ­¥

## ğŸ“Š æ¢—åº“ç»Ÿè®¡

æŸ¥çœ‹å½“å‰æ¢—åº“çŠ¶æ€ï¼š

```typescript
import { getMemeStats } from './utils/memeManager'

const stats = getMemeStats()
// {
//   total: 1256,    // æ€»è®¡
//   builtin: 1200,  // å†…ç½®
//   custom: 56      // è‡ªå®šä¹‰
// }
```

## ğŸ”§ APIä½¿ç”¨

### è·å–æ‰€æœ‰æ¢—ï¼ˆå†…ç½®+è‡ªå®šä¹‰ï¼‰

```typescript
import { getAllMemes } from './utils/memeManager'

const allMemes = getAllMemes()
// è¿”å›: Meme[]
```

### è·å–AIç”¨çš„æ¢—åº“æ–‡æœ¬

```typescript
import { getMemesForAI } from './utils/memeManager'

const memesText = getMemesForAI()
// è¿”å›: æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²
// "yyds": æ°¸è¿œçš„ç¥
// "ç ´é˜²äº†": å¿ƒç†é˜²çº¿è¢«æ”»ç ´
// ...
```

### æ·»åŠ è‡ªå®šä¹‰æ¢—

```typescript
import { addCustomMeme } from './utils/memeManager'

addCustomMeme({
  'æ¢—': 'æ–°æ¢—',
  'å«ä¹‰': 'å«ä¹‰è¯´æ˜',
  keywords: ['å…³é”®è¯']
})
```

### åˆ é™¤è‡ªå®šä¹‰æ¢—

```typescript
import { deleteCustomMeme } from './utils/memeManager'

deleteCustomMeme(10001) // è‡ªå®šä¹‰æ¢—çš„IDä»10000å¼€å§‹
```

## ğŸ® ä½¿ç”¨åœºæ™¯

### è®ºå›åˆå§‹åŒ–

```typescript
// src/pages/ForumInitialize.tsx
import { getMemesForAI } from '../utils/memeManager'

const allMemes = getMemesForAI()
// æ³¨å…¥åˆ°AI promptä¸­
```

### @è§’è‰²å›å¤

```typescript
// src/utils/forumAIReply.ts
import { getMemesForAI } from './memeManager'

const allMemes = getMemesForAI()
// AIå›å¤æ—¶å¯ä½¿ç”¨æ‰€æœ‰æ¢—
```

### è‡ªåŠ¨äº’åŠ¨

```typescript
// src/utils/forumAutoReply.ts
import { getMemesForAI } from './memeManager'

const allMemes = getMemesForAI()
// å‘å¸–åè§’è‰²è¯„è®ºå¯ä½¿ç”¨æ‰€æœ‰æ¢—
```

### å°ç¨‹åºæ¢—åº“

```typescript
// src/pages/MemesLibrary.tsx
import { getAllMemes } from '../utils/memeManager'

const allMemes = getAllMemes()
// æ˜¾ç¤ºæ‰€æœ‰æ¢—ï¼ˆå†…ç½®+è‡ªå®šä¹‰ï¼‰
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. **å†…ç½®æ¢—æ›´æ–°**ï¼š
   - é€‚åˆæ‰¹é‡æ·»åŠ å¸¸ç”¨æ¢—
   - éœ€è¦é‡æ–°éƒ¨ç½²åº”ç”¨
   - æ‰€æœ‰ç”¨æˆ·åŒæ­¥è·å¾—

2. **è‡ªå®šä¹‰æ¢—**ï¼š
   - é€‚åˆç”¨æˆ·ä¸ªæ€§åŒ–éœ€æ±‚
   - æ— éœ€é‡æ–°éƒ¨ç½²
   - ä»…å½“å‰ç”¨æˆ·å¯ç”¨

3. **IDåˆ†é…**ï¼š
   - å†…ç½®æ¢—ï¼š1-9999
   - è‡ªå®šä¹‰æ¢—ï¼š10000+

4. **keywordsä¼˜åŒ–**ï¼š
   - æ·»åŠ å¤šä¸ªç›¸å…³å…³é”®è¯
   - ä¾¿äºæœç´¢å’ŒåŒ¹é…

## ğŸ”„ åŒæ­¥æœºåˆ¶

```
æ›´æ–° memesRetrieval.ts
      â†“
é‡å¯åº”ç”¨/çƒ­æ›´æ–°
      â†“
  â”Œâ”€â”€â”€â”´â”€â”€â”€â”
  â†“       â†“
å°ç¨‹åº   è®ºå›
  â†“       â†“
è‡ªåŠ¨åŒæ­¥ä½¿ç”¨
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **IDå”¯ä¸€æ€§**ï¼šç¡®ä¿æ¯ä¸ªæ¢—çš„IDå”¯ä¸€
2. **å­—æ®µå®Œæ•´**ï¼š`æ¢—`ã€`å«ä¹‰`ã€`keywords`éƒ½è¦å¡«å†™
3. **å­˜å‚¨é™åˆ¶**ï¼šlocalStorageæœ‰å¤§å°é™åˆ¶ï¼ˆçº¦5MBï¼‰
4. **æ€§èƒ½è€ƒè™‘**ï¼šæ¢—åº“è¿‡å¤§å¯èƒ½å½±å“åŠ è½½é€Ÿåº¦

## ğŸ“ æ›´æ–°æ—¥å¿—ç¤ºä¾‹

### v1.1.0 (2025-01-01)
- æ–°å¢100æ¡2024å¹´åº¦çƒ­æ¢—
- ä¼˜åŒ–æ¢—çš„å«ä¹‰è¯´æ˜
- æ·»åŠ æ›´å¤šå…³é”®è¯

### v1.0.0 (2024-12-01)
- åˆå§‹åŒ–1200+æ¡æ¢—åº“
- å®ç°ç»Ÿä¸€ç®¡ç†ç³»ç»Ÿ
- æ”¯æŒè‡ªå®šä¹‰æ¢—
