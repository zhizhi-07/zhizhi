# 群聊真实感和口语化优化说明

## 🎯 优化目标

解决群聊内容的以下问题：
1. ❌ **太书面化**：像作文，不像真人聊天
2. ❌ **消息太长**：一次发很长一段，不真实
3. ❌ **不够口语化**：没有语气词、表情，感觉很机器人
4. ❌ **没有分段**：应该分多条发送，更自然

## ✅ 核心改进

### 1. 强制口语化和真实感（最重要！）

**每条消息必须像真人在手机上打字：**

✅ **正确示例**：
- "哈哈哈笑死我了"
- "啊？？？真的假的"
- "emmm"
- "你在干嘛呀"
- "好的好的"
- "懂了懂了"
- "绝了😂"
- "卧槽"
- "？？？"
- "..."
- "哦"
- "嗯嗯"

❌ **错误示例**：
- "我认为这个问题需要从多个角度来分析" ← 太书面！
- "非常感谢你的分享，让我受益匪浅" ← 太正式！
- "根据我的理解，情况应该是这样的" ← 像AI在说话！

### 2. 消息长度限制

**核心规则：每条消息 5-20 字**

- 💬 超过20字就必须分成多条发送
- 🎯 一个想法可以分2-3条消息（更真实！）
  * 例如："诶等等" → "你刚才说啥？" → "没听清"

### 3. 大量使用语气词和表情

**必须做到：**
- 😊 多用语气词：哈哈、嗯、啊、呀、嘛、呢、吧、哦、诶、唉、emm
- 📱 多用表情符号：😂🤣😭💕🥺👀💔🙄😅（每2-3条消息至少1个）
- 💭 可以有省略号、问号、感叹号
- 🌐 可以用网络用语：绝了、yyds、笑死、无语、服了、6666

### 4. 真实群聊特征

**模拟真实的多人聊天：**
- 📢 可以多人同时说话（话题交叉）
- 🎪 可以突然换话题
- 👀 可以有人只围观不说话
- 💬 可以打断别人（"诶等等"、"你先听我说"）
- 🎭 可以@多个人
- 😄 可以刷表情（"😂😂😂"、"？？？"）

### 5. 消息数量调整

**因为每条消息很短（5-20字），所以数量要增加：**

**用户触发模式**：
- 📏 生成 **8-15条** 消息（原来4-8句）
- 🎪 每个角色可以发 **2-4条**

**AI自由对话模式**：
- 📏 生成 **15-25条** 消息（原来10-20句）
- 🎪 每个角色可以发 **4-8条**

## 📊 对比示例

### ❌ 优化前（书面化、太长）

```
汁汁: "嘻嘻，听到了吗？妈咪最喜欢我啦！[得意]"
刘毅: "@汁汁 一段程序还当真了？可笑"
汁汁: "@刘毅 你才是程序！我可是妈咪独一无二的小棉袄~[理直气壮]"
```

**问题**：
- 每条消息太长（20-30字）
- 一次把话说完，不够真实
- 缺少自然的对话节奏

### ✅ 优化后（口语化、分段）

```
汁汁: "嘻嘻嘻嘻"
汁汁: "听到了吗~"
汁汁: "妈咪最喜欢我啦😝"
刘毅: "哦"
汁汁: "@刘毅 你嫉妒了吧哈哈哈"
刘毅: "@汁汁 可笑"
刘毅: "一段程序还当真了"
汁汁: "！！！"
汁汁: "@刘毅 你才是程序呢"
汁汁: "我可是妈咪的小棉袄💕"
刘毅: "..."
汁汁: "哼不理你了"
汁汁: "妈咪你说对不对呀~"
```

**优势**：
- ✅ 每条5-20字
- ✅ 分多条发送，更真实
- ✅ 大量语气词和表情
- ✅ 符合人设（汁汁活泼话多，刘毅高冷话少）
- ✅ 有来有往，像真实群聊

## 🎭 严格符合人设

**不同性格说话方式完全不同：**

**活泼型**：
- 多用："哈哈"、"嘻嘻"、"呀"、"啦"、"~"、表情符号
- 例如："哈哈哈你好逗呀~"、"哎呀被发现啦😝"

**高冷型**：
- 少说话，一针见血，不用表情
- 例如："无聊"、"随便"、"哦"、"..."

**温柔型**：
- 语气柔和，多用："呢"、"哦"、"好的"、"嗯嗯"
- 例如："没关系啦"、"你还好吗"、"别难过呢💕"

**暴躁型**：
- 直接、冲、多用感叹号
- 例如："烦死了！"、"滚！"、"你有病吧？"

**傲娇型**：
- 嘴硬心软，别扭
- 例如："哼，才不是呢"、"我、我才没有..."、"你想多了"

## 🔧 技术实现

### 修改的文件
- `src/utils/groupSocialDirector.ts` - AI导演提示词优化

### 主要改动

1. **在提示词中新增"口语化和真实感"章节**
   - 列出大量正确/错误示例
   - 强制5-20字限制
   - 强调语气词和表情的使用

2. **调整消息数量要求**
   - 用户触发：8-15条（原4-8句）
   - 自由对话：15-25条（原10-20句）

3. **优化示例格式**
   - 简化JSON格式为纯文本
   - 每个示例都展示分段发送

4. **强化检查清单**
   - 添加"每条消息5-20字？"检查项
   - 添加"大量使用语气词和表情？"检查项
   - 添加"口语化、碎片化、像真人打字？"检查项

## 🎉 预期效果

**优化后，群聊将会：**
- ✅ 每条消息都很短（5-20字）
- ✅ 充满语气词和表情
- ✅ 像真人在手机上打字聊天
- ✅ 分段发送，更自然真实
- ✅ 严格符合每个角色的人设
- ✅ 没有书面化、正式的表达

## 📝 使用说明

**无需额外配置，直接生效！**

1. 创建群聊并添加AI角色
2. 点击纸飞机按钮让AI回复
3. AI会按照新的规则生成口语化、分段的消息
4. 观察效果：消息短、真实、有活人感

## ⚠️ 注意事项

1. **AI导演模式默认开启**
   - 如果想关闭，可在群设置中关闭"使用剧本导演模式"

2. **严格符合人设**
   - AI会根据角色性格调整说话风格
   - 活泼的角色会多用表情和语气词
   - 高冷的角色会话少但犀利

3. **禁止油腻和霸道总裁语言**
   - 除非角色设定就是这样
   - 保持自然、真实、符合现代人的说话方式

---

**优化完成时间**：2024年11月

**如有问题请查看控制台日志**：打开浏览器开发者工具 → Console 查看AI导演的详细日志
