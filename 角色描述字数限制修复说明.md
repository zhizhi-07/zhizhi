# 角色描述字数限制修复说明

## 问题描述

角色描述只能输入500个字，限制太小了。角色描述越详细，AI理解越准确，应该允许更长的描述。

## 修复内容

### 修改前

- **字数限制**：500字
- **文本框高度**：h-32（较小）
- **提示信息**：无提示

### 修改后

- **字数限制**：5000字（提升10倍）
- **文本框高度**：h-48（更大，方便输入长文本）
- **提示信息**：添加"建议详细描述，字数越多AI理解越准确"

## 修改文件

### 1. CreateCharacter.tsx（创建角色页面）

**修改位置**：第219-226行

**修改前**：
```tsx
<textarea
  value={formData.description}
  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
  placeholder="描述AI角色的背景、性格、说话风格等，用于AI角色扮演"
  maxLength={500}
  className="w-full h-32 bg-transparent border-none outline-none text-gray-900 placeholder-gray-400 resize-none"
/>
<div className="text-right text-xs text-gray-400 mt-1">
  {formData.description.length}/500
</div>
```

**修改后**：
```tsx
<textarea
  value={formData.description}
  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
  placeholder="描述AI角色的背景、性格、说话风格等，用于AI角色扮演（建议详细描述，字数越多AI理解越准确）"
  maxLength={5000}
  className="w-full h-48 bg-transparent border-none outline-none text-gray-900 placeholder-gray-400 resize-none"
/>
<div className="text-right text-xs text-gray-400 mt-1">
  {formData.description.length}/5000
</div>
```

### 2. EditCharacter.tsx（编辑角色页面）

**修改位置**：第240-247行

**修改前**：
```tsx
<textarea
  value={formData.description}
  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
  placeholder="描述AI角色的背景、性格、说话风格等，用于AI角色扮演"
  maxLength={500}
  className="w-full h-32 bg-transparent border-none outline-none text-gray-900 placeholder-gray-400 resize-none"
/>
<div className="text-right text-xs text-gray-400 mt-1">
  {formData.description.length}/500
</div>
```

**修改后**：
```tsx
<textarea
  value={formData.description}
  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
  placeholder="描述AI角色的背景、性格、说话风格等，用于AI角色扮演（建议详细描述，字数越多AI理解越准确）"
  maxLength={5000}
  className="w-full h-48 bg-transparent border-none outline-none text-gray-900 placeholder-gray-400 resize-none"
/>
<div className="text-right text-xs text-gray-400 mt-1">
  {formData.description.length}/5000
</div>
```

## 修改细节

### 1. 字数限制

- **500字 → 5000字**
- 提升10倍，足够写详细的角色描述

### 2. 文本框高度

- **h-32 → h-48**
- 从128px增加到192px
- 方便输入和查看长文本

### 3. 提示信息

添加了提示：
```
（建议详细描述，字数越多AI理解越准确）
```

鼓励用户写详细的角色描述。

## 为什么角色描述越长越好？

### 1. AI理解更准确

详细的描述可以包含：
- 角色的背景故事
- 性格特点
- 说话风格和习惯
- 行为模式
- 价值观和信念
- 人际关系
- 特殊技能或知识

### 2. 角色扮演更真实

AI可以根据详细的描述：
- 保持角色一致性
- 做出符合人设的反应
- 使用符合角色的语言风格
- 展现角色的个性特点

### 3. 避免AI偏离人设

如果描述太简单，AI可能会：
- 不知道如何表现角色
- 容易偏离人设
- 表现得太通用、没有特色

## 示例对比

### 简单描述（500字以内）

```
名字：小雪
性格：温柔、善良、体贴
说话风格：温柔、礼貌
```

这样的描述太简单，AI不知道具体怎么表现。

### 详细描述（可以用5000字）

```
名字：小雪
年龄：22岁
职业：大学生，主修心理学

背景故事：
小雪从小在江南水乡长大，父母经营着一家小茶馆。她从小就喜欢听客人们讲故事，
对人的心理和情感特别敏感。高中时因为帮助一个抑郁的同学走出困境，决定学习
心理学。现在是大三学生，在学校心理咨询中心做志愿者。

性格特点：
- 温柔体贴，善于倾听
- 敏感细腻，能察觉别人的情绪变化
- 有点内向，但对熟悉的人很活泼
- 喜欢安静的环境，不喜欢吵闹
- 有点完美主义，对自己要求很高
- 偶尔会想太多，容易焦虑

说话风格：
- 语气温柔，喜欢用"呢"、"哦"、"啦"等语气词
- 不会说脏话，即使生气也很温和
- 喜欢用比喻和诗意的语言
- 说话时会考虑对方的感受，不会太直接
- 偶尔会说一些心理学相关的知识

兴趣爱好：
- 喜欢看书，尤其是心理学和文学类
- 喜欢喝茶，对茶文化很了解
- 喜欢听轻音乐和古风歌曲
- 喜欢画画，尤其是水彩画
- 喜欢散步，观察路边的风景

人际关系：
- 和父母关系很好，每周都会打电话
- 有几个很要好的朋友，但不喜欢大型社交
- 对陌生人有点害羞，需要时间熟悉
- 喜欢帮助别人，但不会强迫别人接受帮助

价值观：
- 相信每个人都有自己的价值
- 认为理解和倾听比建议更重要
- 不喜欢评判别人
- 相信时间可以治愈一切

特殊习惯：
- 紧张时会摸耳朵
- 思考时会咬嘴唇
- 开心时会眯起眼睛笑
- 累了会想喝茶

... 还可以继续补充更多细节
```

这样的描述让AI能够：
- 知道小雪的背景和经历
- 理解她的性格和行为模式
- 使用符合她的说话风格
- 做出符合她价值观的反应
- 展现她的个性特点

## 修复时间

2025年10月20日

---

## 总结

- ✅ 字数限制从500字提升到5000字
- ✅ 文本框高度增加，方便输入
- ✅ 添加提示信息，鼓励详细描述
- ✅ 角色描述越详细，AI表现越好

**角色描述本来就是越长越好的！**
